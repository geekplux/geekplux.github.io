<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>文本数据可视化（上）——从 Wordle 谈起 | GeekPlux</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="本文首发于：GraphiCon 知乎专栏-文本数据可视化（上）——从 Wordle 谈起

看到题目，你可能一脸懵逼，什么是 wordle？下面这幅图就是：

是不是很熟悉？大到宣传海报，小到个人名片，Wordle 如今随处可见。它可以轻松的展示出一段文字的关键词，让我们对这段话的内容一目了然。其实这属于数据可视化中的文本内容可视化，常用于社交网络中的内容分析，还记得前几年微博有有个插件（现在似">
<meta property="og:type" content="article">
<meta property="og:title" content="文本数据可视化（上）——从 Wordle 谈起">
<meta property="og:url" content="http://geekplux.com/2017/04/12/text-data-visualization-wordle.html">
<meta property="og:site_name" content="GeekPlux">
<meta property="og:description" content="本文首发于：GraphiCon 知乎专栏-文本数据可视化（上）——从 Wordle 谈起

看到题目，你可能一脸懵逼，什么是 wordle？下面这幅图就是：

是不是很熟悉？大到宣传海报，小到个人名片，Wordle 如今随处可见。它可以轻松的展示出一段文字的关键词，让我们对这段话的内容一目了然。其实这属于数据可视化中的文本内容可视化，常用于社交网络中的内容分析，还记得前几年微博有有个插件（现在似">
<meta property="og:image" content="https://ooo.0o0.ooo/2017/04/14/58f0320078efe.png">
<meta property="og:image" content="https://ooo.0o0.ooo/2017/04/04/58e35ca7a99a0.png">
<meta property="og:image" content="https://ooo.0o0.ooo/2017/04/14/58f031f9367fa.png">
<meta property="og:image" content="https://ooo.0o0.ooo/2017/04/14/58f031f49a275.png">
<meta property="og:image" content="https://ooo.0o0.ooo/2017/04/14/58f031f5ad7e5.png">
<meta property="og:image" content="https://ooo.0o0.ooo/2017/04/14/58f031f75d220.png">
<meta property="og:image" content="http://i587.photobucket.com/albums/ss314/zhangdiwaa/my%20blog%20photo/QQ56FE724720140201125127.jpg">
<meta property="og:image" content="http://i587.photobucket.com/albums/ss314/zhangdiwaa/my%20blog%20photo/20090621150654-1533987883.jpg">
<meta property="og:image" content="https://ooo.0o0.ooo/2017/04/14/58f031f6bce01.png">
<meta property="og:image" content="https://ooo.0o0.ooo/2017/03/19/58cd69ce5724c.jpg">
<meta property="og:image" content="https://ooo.0o0.ooo/2017/04/14/58f031fe74aa3.png">
<meta property="og:updated_time" content="2017-04-14T03:06:15.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="文本数据可视化（上）——从 Wordle 谈起">
<meta name="twitter:description" content="本文首发于：GraphiCon 知乎专栏-文本数据可视化（上）——从 Wordle 谈起

看到题目，你可能一脸懵逼，什么是 wordle？下面这幅图就是：

是不是很熟悉？大到宣传海报，小到个人名片，Wordle 如今随处可见。它可以轻松的展示出一段文字的关键词，让我们对这段话的内容一目了然。其实这属于数据可视化中的文本内容可视化，常用于社交网络中的内容分析，还记得前几年微博有有个插件（现在似">
<meta name="twitter:image" content="https://ooo.0o0.ooo/2017/04/14/58f0320078efe.png">
<meta name="twitter:creator" content="@GeekPlux">
  
    <link rel="alternate" href="/atom.xml" title="GeekPlux" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/typing.css">
  <link rel="stylesheet" href="/css/donate.css">
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-9721564868409404",
    enable_page_level_ads: true
  });
  </script>
</head>

  
    
      <body>
    
  
      <div id="container" class="container">
        <article id="post-text-data-visualization-wordle" class="article article-type-post" itemscope itemprop="blogPost">
  <header id="header" class="header">
    <div class="mobile-nav">
      <h1 class="nickname">GeekPlux</h1>
      <a id="menu">
        &#9776; Menu
      </a>
    </div>
    
        <nav id="main-nav" class="main-nav nav-left">
    
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/wiki">Wiki</a>
    
      <a class="main-nav-link" href="/presentation">Presentation</a>
    
      <a class="main-nav-link" href="/project">Project</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
      <a class="main-nav-link" href="/donate">Donate</a>
    
      <a class="main-nav-link" href="/aboutme">关于</a>
    
      <a class="main-nav-link" href="/gab">扯淡集</a>
    
  </nav>
</header>

  <hr/>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      文本数据可视化（上）——从 Wordle 谈起
    </h1>
  

      </header>
    
    <div class="article-entry typo" itemprop="articleBody">
      
        <blockquote>
<p>本文首发于：<a href="https://zhuanlan.zhihu.com/p/26306683" target="_blank" rel="external">GraphiCon 知乎专栏-文本数据可视化（上）——从 Wordle 谈起</a></p>
</blockquote>
<p>看到题目，你可能一脸懵逼，什么是 wordle？下面这幅图就是：</p>
<p><img src="https://ooo.0o0.ooo/2017/04/14/58f0320078efe.png" alt=""></p>
<p>是不是很熟悉？大到宣传海报，小到个人名片，Wordle 如今随处可见。它可以轻松的展示出一段文字的关键词，让我们对这段话的内容一目了然。其实这属于数据可视化中的文本内容可视化，常用于社交网络中的内容分析，<em>还记得前几年微博有有个插件（现在似乎找不到了），用户可以一键生成自己的微博关键词，当时引起了大量转发，因为很多用户的关键词出乎意料，让自己都大吃一惊</em>。本文就从最简单的 Wordle 说起，说说文本内容可视化，以窥数据可视化一隅。</p>
<h2 id="为什么要有-Wordle？"><a href="#为什么要有-Wordle？" class="headerlink" title="为什么要有 Wordle？"></a>为什么要有 Wordle？</h2><p>其实要回答这个问题就要回答为什么要做数据可视化。我们先看下面这段话：</p>
<blockquote>
<p>GraphiCon取GraphicsCon图形控之意（类比lolicon）。<br>我们会把我们觉得有趣的，好玩的，有用的图形学相关的技术，知识，想法，资讯放到GraphiCon这个小空间里。<br>GraphiCon的po主们虽然遍布天涯海角，在从事着不同的事，但都是痴迷计算机图形学的小伙伴们。<br>只要你也对计算机图形学感兴趣，或者喜欢好玩有趣狂拽酷炫的图形项目，那么你也是GraphiCon！</p>
</blockquote>
<p>一眼扫过去，你可能能轻松地注意到 <strong>GraphiCon</strong> 出现了 4 次。而还有个关键词「<strong>图形</strong>」，虽然出现了 5 次，但显然没有 GraphiCon 醒目。平时阅读比较快的同学可能有一目十行的本领，其本质就是关键词提取。瞬间了解一段话的大意，进而判断要不要花时间去读。但这完全取决于你个人提取关键字的能力。如果换一种图形的形式，可能就会非常直观：</p>
<p><img src="https://ooo.0o0.ooo/2017/04/04/58e35ca7a99a0.png" alt=""></p>
<p>看这张图明显比看枯燥的文字要直观的多，而且<strong>还意外发现了「计算机图形学」这个词的频率竟然也挺高</strong>。它在原文中出现了两次，这是我们单纯看文字很难发现的。不过，这幅图还不是最好的效果，你可能也发现：除了词频高的词，其他关键词很小，根本看不清；而且整个布局很零散，空白太多，没有一种聚合的感觉。</p>
<p><img src="https://ooo.0o0.ooo/2017/04/14/58f031f9367fa.png" alt=""></p>
<p>这幅比上面的又稍美观了一点，同时对词的重要性也进行了重新统计，不再是单纯的根据词频。可能你觉得还不够美，那这样：</p>
<p><img src="https://ooo.0o0.ooo/2017/04/14/58f031f49a275.png" alt=""><br><img src="https://ooo.0o0.ooo/2017/04/14/58f031f5ad7e5.png" alt=""><br><img src="https://ooo.0o0.ooo/2017/04/14/58f031f75d220.png" alt=""></p>
<p>哈哈，还有很多好玩的，不过例子中这段话的篇幅太短，关键词太少，所以显得不是很紧凑，很多更酷炫的样式也不适用了。</p>
<p>至此，我们可以总结一下 Wordle 的作用：</p>
<ul>
<li>把枯燥的数据直观地呈现出来，使人更好的洞察数据</li>
<li>更有利于数据分析（比如发现「图形」才是出现最多的词）</li>
</ul>
<p>其实数据可视化就是把复杂的数据转化为直观的图形，方便人们洞悉。而且刚才这个例子还只是最简单的文本数据，如果是非常复杂的数据，普通人根本看不懂的那种，就更需要数据可视化为我们抽丝剥茧，完美呈现。关于可视化的必要性我会慢慢渗透到之后的每一篇文章中，接下来开始介绍 Wordle 的制作过程。</p>
<h2 id="文本信息的提取"><a href="#文本信息的提取" class="headerlink" title="文本信息的提取"></a>文本信息的提取</h2><p>任何的数据可视化都离不开三大步骤[1]：分析、处理、生成，Wordle 亦然[2]。如何从一段文字变成一张优美的图片，我们大概要经历以下步骤：</p>
<ul>
<li>提取关键词（去掉冗余的文字）</li>
<li>计算关键词权重（决定哪些词着重显示）</li>
<li>布局（算出每个词摆放的位置）</li>
</ul>
<p>第一步中，英文的分词相对中文来说简单的多（在创作本文的过程中，我几乎是找遍了中文标签云制作工具，没发现一款分词做的好的），把单词都分开后，去掉一些助词如 the、a、that 等，再把单词的时态语态还原就好了。第二步最常用的就是计算词频了，一个词出现的次数越多它的权重越大（Wordle 就是用了词频）。除此之外，还有用单词在句子中的成分来判断其重要性的、有用各种概率模型的，这涉及到自然语言处理和文本信息挖掘，总之方法多种多样。另外，文本数据挖掘一直也是热门的研究话题，尤其是中文处理这道难以逾越的鸿沟。大家有兴趣可以自行研究。</p>
<h2 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h2><p>把单词任意排列的表现形式，最早的灵感来自于排版印刷：</p>
<p><img src="http://i587.photobucket.com/albums/ss314/zhangdiwaa/my%20blog%20photo/QQ56FE724720140201125127.jpg" alt=""></p>
<p>上图是《数据可视化之美》的配图，分别来自美国国家设计研究中心和古埃及草纸。95 年在动漫作品 EVA 中，词云的表现形式也有所体现[4]。</p>
<p><img src="http://i587.photobucket.com/albums/ss314/zhangdiwaa/my%20blog%20photo/20090621150654-1533987883.jpg" alt=""></p>
<p>这种看似杂乱无章的排布，恰恰与人类的跳跃思维相契合，人脑的思绪随着视觉的跳动也跟着不断联想。</p>
<p>而在计算机上，最早的文字可视化其实是「标签云」。当年博客爆发的时代，几乎每个博客里都有一个这样的插件：</p>
<p><img src="https://ooo.0o0.ooo/2017/04/14/58f031f6bce01.png" alt=""></p>
<p>它用文字的大小和颜色的深浅来表达了文字在文本中的重要性，比你单纯看一段文字要直观的多。但它的缺点也很多：从美的角度来说，它同一行如果有一个词字体特别大则直接导致行距变大，不仅造成了空间的浪费，还让整体看起来非常不整齐、不协调；从信息展现的角度来说，字体的深浅大小不能更好的体现差异，比如上图中 good 的权重是 50，而 life 的权重是 20，但它俩看起来的差别并不大。</p>
<p>后来出现的 Wordle 针对这些缺点一一作了改进。首先它用字体的粗度来加深权重的展示，因为人的视觉对面积的感知比对饱和度的感知要强，所以加粗字体效果拔群；其次 Wordle 用紧凑的布局给人以美的享受，你甚至可以给定形状来生成不同的 Wordle。</p>
<p><img src="https://ooo.0o0.ooo/2017/03/19/58cd69ce5724c.jpg" alt=""></p>
<p>Wordle 具体采用的算法是贪婪算法，最开始在给定区域内把最重要的单词先摆到某个位置（这个位置你可以指定，一般是中心线），然后用下个单词在它的旁边不停做交叠测试，直到没有重叠。依次迭代，直到每个单词都摆放好。</p>
<h3 id="Wordle-有什么不足之处"><a href="#Wordle-有什么不足之处" class="headerlink" title="Wordle 有什么不足之处"></a>Wordle 有什么不足之处</h3><p>虽然 Wordle 的设计已经很美观，但作为一个有批判性思维的少年，我们还是要对它批判一番：</p>
<ul>
<li>Wordle 美观程度很大程度依赖于它所选的字体。相信你也见过宋体中文的 Wordle。。</li>
<li>相同权重的单词，可能越长的显得权重越大，因为它占得面积更大。</li>
<li>颜色意义不大。不过现在这个好像变成了优势，使它可以与不同图片结合。</li>
</ul>
<h2 id="除此之外"><a href="#除此之外" class="headerlink" title="除此之外"></a>除此之外</h2><p>Wordle 算是文本内容可视化中最经典的形式，除此之外还有一些更有趣的，比如下图的 DocuBurst [4]。它用环形布局巧妙地展示了文本的层级关系，外圈的单词是内圈单词的下一层。</p>
<p><img src="https://ooo.0o0.ooo/2017/04/14/58f031fe74aa3.png" alt=""></p>
<p>正所谓“一图胜千言”，文本可视化把枯燥的文字变成有趣的图片帮助人们加深理解，可以说是功不可没。如果有兴趣继续了解可视化相关的内容，敬请期待下一期。</p>
<ul>
<li><a href="http://geekplux.com/2017/01/01/basics-of-data-visualization-the-process-model.html">[1] 数据可视化基础——可视化流程</a></li>
<li><a href="http://www.wordle.net/" target="_blank" rel="external">[2] Wordle.net</a></li>
<li><a href="https://book.douban.com/subject/6439420/" target="_blank" rel="external">[3] 数据可视化之美</a></li>
<li><a href="http://www.storagelab.org.cn/zhangdi/2014/02/07/wordle/" target="_blank" rel="external">[4] wordle和单词云的起源、原理与制作</a></li>
<li><a href="http://vialab.science.uoit.ca/wp-content/papercite-data/pdf/col2009a.pdf" target="_blank" rel="external">[5] DocuBurst: Visualizing Document Content using Language Structure</a></li>
</ul>
<hr>
<p>本作品采用<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" rel="external">知识共享 署名-非商业性使用-禁止演绎 4.0 国际 许可协议</a>进行许可。</p>

      
      <div id="donate" class="donate">
        <a id="github" href="https://github.com/geekplux" target="_blank" class="pos-f tr3" title="Github"></a>
	      <div id="DonateText" class="tr3">Donate</div>
	      <ul id="donateBox" class="list pos-f tr3">
		      <li id="PayPal"><a href="https://www.paypal.me/geekplux" target="_blank">PayPal</a></li>
		      <li id="BTC" data-footnote="Copy addres and show QRCode"><button id="BTCBn"  data-clipboard-target="#btc-key" alt="Copy to clipboard">Bitcoin</button></li>
		      <li id="AliPay">AliPay</li>
		      <li id="WeChat">WeChat</li>
	      </ul>
	      <div id="QRBox" class="pos-f left-100">
		      <div id="BTCQR" class="MainBox" style="background-image: url(http://7b1evr.com1.z0.glb.clouddn.com/donate/bitcoin.png)"></div>
		      <div id="AliPayQR" class="MainBox" style="background-image: url(http://7b1evr.com1.z0.glb.clouddn.com/donate/alipayQR.jpg)"></div>
		      <div id="WeChatQR" class="MainBox" style="background-image: url(http://7b1evr.com1.z0.glb.clouddn.com/donate/wechatQR.jpg)"></div>
	      </div>
	      <!-- Bitcoin 账号 -->
	      <input id="btc-key" type="text" value="1AVngxh56oLvAzXsEFnzccUohZdHswjC7j" readonly="readonly">
      </div>
    </div>
    <footer class="article-footer">
      <ul class="article-meta">
        <li>
          <span class="label">Published Date:</span>
          <a href="/2017/04/12/text-data-visualization-wordle.html" class="article-date">
  <time datetime="2017-04-12T02:44:01.000Z" itemprop="datePublished">2017-04-12</time>
</a>

        </li>
        
          <li>
            <span class="label">Category:</span>
            
  <div class="article-category">
    <a class="article-category-link" href="/categories/Visualization/">Visualization</a>
  </div>


          </li>
        
        
          <li>
            <span class="label">Tag:</span>
            
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Big-Data/">Big Data</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data/">Data</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Visualization/">Data Visualization</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Guide/">Guide</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Note/">Note</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Summary/">Summary</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Visualization/">Visualization</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/入门/">入门</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/可视化/">可视化</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/大数据/">大数据</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/总结/">总结</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据/">数据</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据可视化/">数据可视化</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/笔记/">笔记</a></li></ul>


          </li>
        
        <hr/>
      </ul>
    </footer>
  </div>
  
    
<nav id="article-nav" class="article-nav">
  
    <a href="/2017/06/26/text-data-visualization.html" id="article-nav-newer" class="article-nav-link-wrap newer">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          文本数据可视化（下）——一图胜千言
        
      </div>
    </a>
  
  
    <a href="/2017/01/14/the-ways-to-get-information.html" id="article-nav-older" class="article-nav-link-wrap older">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">我获取信息的渠道</div>
    </a>
  
</nav>


  
</article>


  <section id="comments" class="comments">
    <div id="gitment_container"></div>
  </section>



  <section id="comments" class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
  </section>



      </div>
      
    <footer id="footer" class="post-footer footer">
      
      <hr/>
      <div id="footerContent" class="footer-content">
        <p>I’m <strong><a href="/about">GeekPlux</a></strong>, a web developer who contributes to open-source projects. You are reading my <a href="http://geekplux.com">blog</a> powered by <a href="https://hexo.io">Hexo</a> and <a href="https://github.com/geekplux/hexo-theme-typing">Typing</a>. All articles are under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0</a>. Follow me on <a href="https://twitter.com/geekplux">Twitter</a> for communicating, <a href="https://github.com/geekplux">GitHub</a> for code, and <a href="https://www.instagram.com/geekplux">Instagram</a> for daily.</p>


      </div>
    </footer>

      
  <script>
   var disqus_shortname = 'geekplux';
   
   var disqus_url = 'http://geekplux.com/2017/04/12/text-data-visualization-wordle.html';
   
   (function(){
     var dsq = document.createElement('script');
     dsq.type = 'text/javascript';
     dsq.async = true;
     dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
     (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
   })();
  </script>



<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
  var gitment = new Gitment({
    owner: 'geekplux',
    repo: 'geekplux.github.io',
    oauth: {
      client_id: 'e4281103bd71a2aba965',
      client_secret: '2e02d473f5caa239f841e81fdf7feabd7a91c73e'
    }
  })
  gitment.render('gitment_container')
</script>


<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.10/clipboard.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/typing.js"></script>
<!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?f3122f4261e8b3074f848be04f62f0c0";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-46481966-2', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->





    </div>
  </body>
</html>
